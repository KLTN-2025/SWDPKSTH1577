{% extends 'core/base.html' %}
{% load static %}

{% block main_content %}

<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h1 class="display-4 fw-bold mb-4">Chào mừng đến với CrownePlaza</h1>
                <p class="lead text-muted mb-4">Trải nghiệm sự sang trọng và tiện nghi đẳng cấp tại không gian nghỉ dưỡng tuyệt vời của chúng tôi. Với dịch vụ 5 sao và tiện nghi hiện đại, chúng tôi cam kết mang đến cho bạn kỳ nghỉ hoàn hảo nhất.</p>
                
                <div class="d-flex flex-wrap gap-3">
                    <a href="{% url 'room_search' %}" class="btn btn-primary btn-lg px-4">
                        <i class="fas fa-calendar-check me-2"></i> Đặt phòng ngay
                    </a>
                    <a href="#services" class="btn btn-outline-secondary btn-lg px-4">
                        <i class="fas fa-concierge-bell me-2"></i> Khám phá dịch vụ
                    </a>
                </div>
            </div>
            
            
            <div class="col-lg-6">
                <div class="position-relative">
                    <img src="{% static 'images/hotel_banner.jpg' %}" 
                         class="img-fluid shadow-lg" 
                         alt="Luxury Hotel"
                         style="max-height: 400px; width: 100%; object-fit: cover; border-radius: 90px 15px 15px 15px;">
                    <div class="position-absolute bottom-0 end-0 bg-white p-3  shadow-sm" style="border-radius: 15px 0px 0px 0px;">
                        <div class="d-flex align-items-center">
                            <div class="me-3">
                                <i class="fas fa-star text-warning fs-4"></i>
                            </div>
                            <div>
                                <h5 class="mb-0">Đánh giá 5 sao</h5>
                                <small class="text-muted">Trên 500+ đánh giá</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<section id="search" class="py-5" >
    <div class="container" >
        <div class="search-box" style="background-color: #EAF1FF; border-radius: 30px;">
            
            <div class="d-flex justify-content-center">
            <form method="post" action="{% url 'room_search' %}" class="w-100" style="max-width: 900px;">
                {% csrf_token %}
                <div class="row g-3">
                    <!-- <div class="col-md-3">
                        <label for="check_in" class="form-label">Ngày nhận phòng</label>
                        <input type="date" class="form-control" id="check_in" name="check_in" required>
                    </div>
                    <div class="col-md-3">
                        <label for="check_out" class="form-label">Ngày trả phòng</label>
                        <input type="date" class="form-control" id="check_out" name="check_out" required>
                    </div> -->
                    <div class="col-md-2">
                        <label for="guests" class="form-label">Số người</label>
                        <select class="form-select" id="guests" name="guests">
                            <option value="1">1 người</option>
                            <option value="2" selected>2 người</option>
                            <option value="3">3 người</option>
                            <option value="4">4 người</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="room_type" class="form-label">Loại phòng</label>
                        <select class="form-select" id="room_type" name="room_type">
                            <option value="">Tất cả</option>
                            <option value="standard">Standard</option>
                            <option value="deluxe">Deluxe</option>
                            <option value="suite">Suite</option>
                            <option value="family">Gia đình</option>
                        </select>
                    </div>
                    <div class="col-md-2 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary w-100">Tìm kiếm</button>
                    </div>
                </div>
            </form>
            </div>
        </div>
    </div>
</section>


<section class="stats-section">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-4 stat-item">
                <h2 class="counter" data-target="25000">0</h2>
                <p>Khách hàng hài lòng</p>
            </div>
            <div class="col-md-4 stat-item">
                <h2 class="counter" data-target="50000">0</h2>
                <p>Lượt đặt phòng</p>
            </div>
            <div class="col-md-4 stat-item">
                <h2 class="counter" data-target="100">0</h2>
                <p>Phòng nghỉ</p>
            </div>
        </div>
    </div>
</section>


<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Phòng nổi bật</h2>
            <p class="text-muted">Khám phá các phòng nghỉ sang trọng của chúng tôi</p>
        </div>
        <div class="row">
            {% for room in featured_rooms %}
            <div class="col-md-3 mb-4">
                <div class="card room-card h-100">
                    <img src="{{ room.anh_dai_dien.url }}" class="card-img-top" alt="{{ room.loai_p }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ room.get_loai_p_display }}</h5>
                        <p class="card-text text-muted">{{ room.mo_ta|truncatechars:80 }}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="text-primary fw-bold">{{ room.gia|floatformat:0 }} VND/đêm</span>
                            <a href="{% url 'room_detail' room.ma_p %}" class="btn btn-sm btn-outline-primary">Xem chi tiết</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'room_search' %}" class="btn btn-primary">Xem tất cả phòng</a>
        </div>
    </div>
</section>


<section id="services" class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Dịch vụ của chúng tôi</h2>
            <p class="text-muted">Trải nghiệm các dịch vụ đẳng cấp tại khách sạn</p>
        </div>
        <div class="row">
            {% for service in services %}
            <div class="col-md-4 mb-4">
                <div class="card service-card h-100">
                    <img src="{{ service.anh_dai_dien.url }}" class="card-img-top" alt="{{ service.ten_dv }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ service.ten_dv }}</h5>
                        <p class="card-text text-muted">{{ service.mo_ta|truncatechars:100 }}</p>
                    </div>
                    <div class="card-footer bg-white border-0">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="text-primary fw-bold">{{ service.phi_dv|floatformat:0 }} VND</span>
                            <a href="{% url 'service_detail' service.ma_dv %}" class="btn btn-sm btn-outline-primary">Chi tiết</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'service_list' %}" class="btn btn-primary">Xem tất cả dịch vụ</a>
        </div>
    </div>
</section>

<section id="testimonials" class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Khách hàng nói gì về chúng tôi</h2>
            <p class="text-muted">Nghe những câu chuyện thực tế từ những vị khách đã trải nghiệm dịch vụ của chúng tôi.</p>
        </div>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm p-4 text-center"><img src="{% static 'images/avatar1.jpg' %}" class="rounded-circle mx-auto mb-3" alt="Avatar khách hàng" style="width: 80px; height: 80px; object-fit: cover;">
                    <p class="fst-italic">"Dịch vụ ở đây quá tuyệt vời! Nhân viên cực kỳ thân thiện và phòng ốc sạch sẽ, tiện nghi. Chắc chắn tôi sẽ quay lại."</p>
                    <h5 class="mt-3 mb-0">Nguyễn Văn Tài</h5>
                    <small class="text-muted">Hà Nội, Việt Nam</small>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm p-4 text-center">
                    <img src="{% static 'images/avatar3.jpg' %}" class="rounded-circle mx-auto mb-3" alt="Avatar khách hàng" style="width: 80px; height: 80px; object-fit: cover;">
                    <p class="fst-italic">"Trải nghiệm nghỉ dưỡng đáng nhớ. Hồ bơi và nhà hàng rất đẹp, thức ăn ngon. Cảnh quan xung quanh thật sự thư giãn."</p>
                    <h5 class="mt-3 mb-0">Mỹ Gia My</h5>
                    <small class="text-muted">TP. Hồ Chí Minh, Việt Nam</small>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm p-4 text-center">
                    <img src="{% static 'images/avata4.jpg' %}" class="rounded-circle mx-auto mb-3" alt="Avatar khách hàng" style="width: 80px; height: 80px; object-fit: cover;">
                    <p class="fst-italic">"Phòng suite rộng rãi và có view tuyệt đẹp. Mọi thứ đều được chuẩn bị chu đáo. Đúng là một khách sạn 5 sao thực sự."</p>
                    <h5 class="mt-3 mb-0">Bùi Anh Tuấn</h5>
                    <small class="text-muted">Đà Nẵng, Việt Nam</small>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="faq" class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Câu hỏi thường gặp</h2>
            <p class="text-muted">Chúng tôi đã tổng hợp những câu hỏi phổ biến nhất để giúp bạn có được thông tin cần thiết một cách nhanh chóng.</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion accordion-flush" id="faqAccordion">
                    
                    <div class="accordion-item shadow-sm mb-3 rounded">
                        <h2 class="accordion-header" id="flush-headingOne">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                                1. Làm thế nào để đặt phòng tại CrownePlaza?
                            </button>
                        </h2>
                        <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Bạn có thể dễ dàng đặt phòng trực tuyến thông qua trang web của chúng tôi. Chọn "Đặt phòng ngay" ở đầu trang, nhập ngày nhận/trả phòng và số lượng khách. Hệ thống sẽ hiển thị các phòng có sẵn để bạn lựa chọn và hoàn tất quá trình thanh toán.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item shadow-sm mb-3 rounded">
                        <h2 class="accordion-header" id="flush-headingTwo">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                                2. Khách sạn có những tiện nghi nào?
                            </button>
                        </h2>
                        <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                CrownePlaza cung cấp đầy đủ các tiện nghi 5 sao như hồ bơi vô cực, nhà hàng sang trọng, phòng gym hiện đại, khu spa và dịch vụ phòng 24/7.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item shadow-sm mb-3 rounded">
                        <h2 class="accordion-header" id="flush-headingThree">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                                3. Chính sách hủy đặt phòng của khách sạn là gì?
                            </button>
                        </h2>
                        <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Chúng tôi cho phép hủy đặt phòng miễn phí trong vòng 24 giờ kể từ thời điểm đặt phòng. Sau thời gian này, phí hủy phòng có thể được áp dụng. Vui lòng kiểm tra chi tiết trong email xác nhận hoặc liên hệ trực tiếp với chúng tôi để được hỗ trợ.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item shadow-sm mb-3 rounded">
                        <h2 class="accordion-header" id="flush-headingFour">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                                4. Tôi có thể mang theo thú cưng không?
                            </button>
                        </h2>
                        <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Xin lỗi, hiện tại khách sạn chúng tôi không cho phép mang theo thú cưng. Chúng tôi hy vọng bạn sẽ thông cảm vì điều này.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item shadow-sm mb-3 rounded">
                        <h2 class="accordion-header" id="flush-headingFive">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                                5. Giờ nhận và trả phòng là khi nào?
                            </button>
                        </h2>
                        <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Giờ nhận phòng tiêu chuẩn là **14:00**, và giờ trả phòng là **12:00** trưa. Nếu bạn cần nhận phòng sớm hoặc trả phòng muộn, vui lòng liên hệ với lễ tân để kiểm tra khả năng sắp xếp.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="location" class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Vị trí của chúng tôi</h2>
            <p class="text-muted">Dễ dàng tìm thấy chúng tôi tại trung tâm thành phố Đà Nẵng.</p>
        </div>
        <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="card h-100 p-4 shadow-sm">
                    <h4>CrownePlaza Hotel</h4>
                    <ul class="list-unstyled mt-3">
                        <li class="mb-2"><i class="fas fa-map-marker-alt me-2 text-primary"></i>8 Võ Nguyên Giáp, Street, Ward, Đà Nẵng</li>
                        <li class="mb-2"><i class="fas fa-phone me-2 text-primary"></i>0702 664 640</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2 text-primary"></i>info@crowneplaza.com</li>
                <li class="mb-2"><i class="fas fa-clock me-2 text-primary"></i>Mở cửa 24/7</li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="map-container rounded shadow-sm overflow-hidden" style="height: 400px;">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3834.734053866014!2d108.25395447490322!3d16.027353884646143!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x314217460327806f%3A0x93e2fc2f8c1657f6!2sCrowne%20Plaza%20Danang!5e0!3m2!1svi!2s!4v1758189959213!5m2!1svi!2s" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

<style>
    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.25);
        transition: all 0.3s ease;
    }
    
    
    .img-fluid {
        transition: transform 0.3s ease;
    }
    .img-fluid:hover {
        transform: scale(1.02);
    }

    
    
    
</style>

{% block extra_js %}
{{ block.super }}
<script>
   
    const counters = document.querySelectorAll('.counter');
    const statsSection = document.querySelector('.stats-section');
    const duration = 2000; 

    const startCounter = (counter) => {
        const target = +counter.getAttribute('data-target');
        const countTo = target;
        const countFrom = 0;
        const step = countTo / (duration / 10); 

        let currentCount = countFrom;
        const timer = setInterval(() => {
            currentCount += step;
            if (currentCount >= countTo) {
               
                clearInterval(timer);
                currentCount = countTo;
            }
           
            counter.innerText = Math.floor(currentCount).toLocaleString('en-US');
        }, 10);
    };

    const observer = new IntersectionObserver(
        (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    counters.forEach(startCounter);
                    observer.unobserve(entry.target); 
                }
            });
        },
        {
            threshold: 0.5 
        }
    );

    if (statsSection) {
        observer.observe(statsSection);
    }
</script>
{% endblock %}